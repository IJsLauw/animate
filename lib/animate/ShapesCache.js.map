{"version":3,"sources":["../../src/animate/ShapesCache.js"],"names":["ShapesCache","Object","defineProperty","enumerable","value","prop","items","deserializeShapes","i","length","item","j","arg","hexToUint","id","name","remove"],"mappings":";;;;;;AAAA;;;;;;AAEA;;;;;AAKA,IAAMA,cAAc,EAApB;;AAEA;;;;;;;AAOAC,OAAOC,cAAP,CAAsBF,WAAtB,EAAmC,KAAnC,EAA0C;AACtCG,gBAAY,KAD0B;AAEtCC,WAAO,eAASC,IAAT,EAAeC,KAAf,EAAsB;;AAEzB;AACA,YAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;AAC3BA,oBAAQ,gBAAMC,iBAAN,CAAwBD,KAAxB,CAAR;AACH;;AAED;AACA,aAAK,IAAIE,IAAI,CAAb,EAAgBA,IAAIF,MAAMG,MAA1B,EAAkCD,GAAlC,EAAuC;AACnC,gBAAIE,OAAOJ,MAAME,CAAN,CAAX;AACA,iBAAK,IAAIG,IAAI,CAAb,EAAgBA,IAAID,KAAKD,MAAzB,EAAiCE,GAAjC,EAAsC;AAClC,oBAAIC,MAAMF,KAAKC,CAAL,CAAV;AACA,oBAAI,OAAOC,GAAP,KAAe,QAAf,IAA2BA,IAAI,CAAJ,MAAW,GAA1C,EAA+C;AAC3CF,yBAAKC,CAAL,IAAU,gBAAME,SAAN,CAAgBD,GAAhB,CAAV;AACH;AACJ;AACJ;AACDZ,oBAAYK,IAAZ,IAAoBC,KAApB;AACH;AApBqC,CAA1C;;AAwBA;;;;;;;AAOAL,OAAOC,cAAP,CAAsBF,WAAtB,EAAmC,WAAnC,EAAgD;AAC5CG,gBAAY,KADgC;AAE5CC,WAAO,eAASU,EAAT,EAAa;AAChB,eAAOd,YAAYc,EAAZ,KAAmB,IAA1B;AACH;AAJ2C,CAAhD;;AAOA;;;;;;AAMAb,OAAOC,cAAP,CAAsBF,WAAtB,EAAmC,QAAnC,EAA6C;AACzCG,gBAAY,KAD6B;AAEzCC,WAAO,eAASU,EAAT,EAAa;AAChB,YAAI,QAAOA,EAAP,yCAAOA,EAAP,OAAc,QAAlB,EAA4B;AACxB,iBAAK,IAAIC,IAAT,IAAiBD,EAAjB,EAAqB;AACjBd,4BAAYgB,MAAZ,CAAmBD,IAAnB;AACH;AACD;AACH;AACD,YAAIf,YAAYc,EAAZ,CAAJ,EAAqB;AACjBd,wBAAYc,EAAZ,EAAgBL,MAAhB,GAAyB,CAAzB;AACA,mBAAOT,YAAYc,EAAZ,CAAP;AACH;AACJ;AAbwC,CAA7C;;AAgBA;;;;;AAKAb,OAAOC,cAAP,CAAsBF,WAAtB,EAAmC,WAAnC,EAAgD;AAC5CG,gBAAY,KADgC;AAE5CC,WAAO,iBAAW;AACd,aAAK,IAAIU,EAAT,IAAed,WAAf,EAA4B;AACxBA,wBAAYgB,MAAZ,CAAmBF,EAAnB;AACH;AACJ;AAN2C,CAAhD;;AASA;kBACed,W","file":"ShapesCache.js","sourcesContent":["import utils from './utils';\n\n/**\n * Contains the collection of graphics data\n * @memberof PIXI.animate\n * @class ShapesCache\n */\nconst ShapesCache = {};\n\n/**\n * Add an item or itesm to the cache\n * @method PIXI.animate.ShapesCache.add\n * @static\n * @param {String} prop  The id of graphic or the map of graphics to add\n * @param {String|Array<Array>} items Collection of draw commands\n */\nObject.defineProperty(ShapesCache, 'add', {\n    enumerable: false,\n    value: function(prop, items) {\n\n        // Decode string to map of files\n        if (typeof items === \"string\") {\n            items = utils.deserializeShapes(items);\n        }\n\n        // Convert all hex string colors (animate) to int (pixi.js)\n        for (let i = 0; i < items.length; i++) {\n            let item = items[i];\n            for (let j = 0; j < item.length; j++) {\n                let arg = item[j];\n                if (typeof arg === 'string' && arg[0] === '#') {\n                    item[j] = utils.hexToUint(arg);\n                }\n            }\n        }\n        ShapesCache[prop] = items;\n    }\n});\n\n\n/**\n * Get the graphic from cache\n * @method  PIXI.animate.ShapesCache.fromCache\n * @static\n * @param  {String} id The cache id\n * @return {Array} Series of graphic draw commands\n */\nObject.defineProperty(ShapesCache, 'fromCache', {\n    enumerable: false,\n    value: function(id) {\n        return ShapesCache[id] || null;\n    }\n});\n\n/**\n * Remove the graphic from cache\n * @method  PIXI.animate.ShapesCache.remove\n * @static\n * @param  {String|Object} id The cache id or map\n */\nObject.defineProperty(ShapesCache, 'remove', {\n    enumerable: false,\n    value: function(id) {\n        if (typeof id === \"object\") {\n            for (let name in id) {\n                ShapesCache.remove(name);\n            }\n            return;\n        }\n        if (ShapesCache[id]) {\n            ShapesCache[id].length = 0;\n            delete ShapesCache[id];\n        }\n    }\n});\n\n/**\n * Remove all graphics from cache\n * @method  PIXI.animate.ShapesCache.removeAll\n * @static\n */\nObject.defineProperty(ShapesCache, 'removeAll', {\n    enumerable: false,\n    value: function() {\n        for (let id in ShapesCache) {\n            ShapesCache.remove(id);\n        }\n    }\n});\n\n// Assign to namespace\nexport default ShapesCache;"]}